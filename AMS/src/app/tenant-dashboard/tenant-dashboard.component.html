<div class="dashboard-container">
    <!-- Top Header -->
    <div class="header">
      <div class="user-info">
        <h1>Welcome, {{ userProfile?.fullname }} </h1>
        <p>Room: {{ tenant.room || 'Not Assigned' }}</p>
      <p>As of {{ currentDate | date:'MMMM dd, yyyy' }}</p>
      </div>
      <div class="balance-info">
        <p>Outstanding Balance</p>
        <h1>â‚±{{ tenant.rent || 0 }}</h1>
        <p>Due Date: {{ tenant.due_date | date:'MMMM dd, yyyy' }}</p>
        <button class="pay-now-btn" (click)="isPaymentFormVisible = true">Pay Now</button>
      </div>
    </div>
  
    <!-- Payment Form (Hidden until Pay Now is clicked) -->
    <div *ngIf="isPaymentFormVisible" class="payment-details-wrapper">
      <h2>Payment Details</h2>
    
      <form (ngSubmit)="onPayInvoice()">
        <div>
          <label for="amount">Amount</label>
          <input type="number" id="amount" [(ngModel)]="paymentAmount" name="amount" [readonly]="true" />
        </div>
        <div>
          <label for="referenceNumber">Reference Number</label>
          <input type="text" id="referenceNumber" [(ngModel)]="paymentReferenceNumber" name="referenceNumber" />
        </div>
        <div>
          <label for="proofOfPayment">Proof of Payment</label>
          <input type="file" (change)="onPaymentProofFileSelected($event)" id="proofOfPayment" name="proofOfPayment" />
        </div>
        <button type="submit">Submit Payment</button>
      </form>
    
      <p *ngIf="paymentMessage">{{ paymentMessage }}</p>
    </div>
  
    <!-- Grid Section -->
    <div class="grid-container">
      <div class="grid-item">
        <i class="material-icons">person</i>
        <p>Profile</p>
      </div>
      <div class="grid-item">
        <i class="material-icons">receipt</i>
        <p>Payment History</p>
      </div>
      <div class="grid-item">
        <i class="material-icons">home</i>
        <p>Lease Agreement</p>
      </div>
      <div class="grid-item">
        <i class="material-icons">mail</i>
        <p>Inquiries</p>
      </div>
    </div>
<!-- Create Concern Form -->
<div class="create-concern-form-wrapper">
  <h2>Create a New Concern</h2>
  <form (ngSubmit)="createConcern()">
    <div class="form-group">
      <label for="subject">Subject</label>
      <input
        type="text"
        id="subject"
        required
        class="form-control"
        placeholder="Subject"
        [(ngModel)]="concerntitle"
        name="subject"
        #subjectInput="ngModel"
      />
      <div *ngIf="subjectInput.invalid && subjectInput.touched" class="error-message">
        Subject is required.
      </div>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        required
        class="form-control"
        placeholder="Description"
        [(ngModel)]="concerncontent"
        name="description"
        #descriptionInput="ngModel"
      ></textarea>
      <div *ngIf="descriptionInput.invalid && descriptionInput.touched" class="error-message">
        Description is required.
      </div>
    </div>
    <div class="form-group">
      <label for="attachment">Attachment</label>
      <input
        type="file"
        id="attachment"
        class="form-control"
        (change)=" onImageFileSelected($event)"
      />
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!concerntitle || !concerncontent">
      Submit Concern
    </button>
  </form>
  <p *ngIf="message">{{ message }}</p>
</div>
    
  </div>